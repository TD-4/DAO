{
    "name": "cls-TIMMC(efficientnet_b0)-ClsDataset(LvJian)-ClsEvaluator-eval-linux",
    "type": "cls",
    "seed": 0,

    "envs": {
        "type": "linux",
        "gpus": {
            "dist_backend": "nccl",
            "dist_url": null,
            "devices": 1,
            "num_machines": 1,
            "machine_rank": 0
        }
    },
    "trainer": {
        "type": "ClsEval",
        "log": {
            "log_dir": "/root/code/DAO/saved",
            "log_per_iter": 10
        },
        "ckpt": "/root/code/DAO/saved/cls-TIMMC(efficientnet_b0)-sgd_warmup_bias_bn_weight-ClsDataset(LvJian)-CrossEntropyLoss-warm_cos_lr-ClsEvaluator-trainval-linux/01-18_12-05/best_ckpt.pth",
        "resume": false
    },
    "model": {
        "type": "TIMMC",
        "summary_size": [1,224,224],
        "backbone": {
            "kwargs": {
                "model_name":"efficientnet_b0",
                "pretrained": true,
                "checkpoint_path": "",
                "exportable": true,
                "in_chans": 1,
                "num_classes": 20
            }
        },
        "kwargs": {
        }
    },
    "evaluator": {
        "type": "ClsEvaluator",
        "dataloader": {
            "type": "ClsDataloaderEval",
            "dataset": {
                "type": "ClsDataset",
                "kwargs": {
                    "data_dir": "/root/data/DAO/LvJian",
                    "image_set": "val.txt",
                    "in_channels": 1,
                    "input_size": [224, 224],
                    "cache": false,
                    "train_ratio": 0.9,
                    "shuffle": true,
                    "sample_range": [2000, 3000],
                    "images_suffix": [".bmp"]
                },
                "transforms": {
                    "kwargs": {
                        "Resize": {"height": 224, "width": 224, "p": 1},
                        "Normalize": {"mean": 0, "std": 1, "p": 1}
                    }
                }
            },
            "kwargs": {
                "num_workers": 4,
                "batch_size": 1
            }
        },
        "kwargs": {
            "num_classes": 20,
            "is_industry": true,
            "industry": {
                "kwargs": {
                    "tolerate_class": {
                    },
                    "ok_ng_class": {
                        "ng": ["1010-明场划伤", "1011-明场碰压伤","1005-明场天线缺陷"],
                        "ok": [
                            "1001-明场IO良品",
                            "1003-明场IO脏污",
                            "1004-明场天线良品",
                            "1006-明场天线脏污",
                            "1012-明场碰压伤疑似",
                            "1013-明场毛丝",
                            "1014-明场簇状短刮伤",
                            "1015-明场良品",
                            "1021-明场脏污",
                            "2001-暗场IO良品",
                            "2003-暗场IO脏污",
                            "2004-暗场天线良品",
                            "2005-暗场天线缺陷",
                            "2006-暗场天线脏污",
                            "2010-暗场良品",
                            "2011-暗场脏污",
                            "3001-腐蚀点"]
                    }
                }
            },
            "target_layer": "conv_head"
        }
    }
}
